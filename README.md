# WebShop Web Application
[![backend-python-django](https://img.shields.io/badge/Backend-Python/Django-green)](https://www.djangoproject.com)
[![frontend-reactjs](https://img.shields.io/badge/Frontend-Javascript/React-blue)](https://reactjs.org)
[![License: Unlicense](https://img.shields.io/badge/License-Unlicense-9cf.svg)](http://unlicense.org/)

[E-commerce web application project](https://nurtsrx.herokuapp.com/) coded in Python(Django) for creating API([Django Rest Framework](https://www.django-rest-framework.org)) and for the backend  and Javascript(React) on the client side as single page application. Assignment submitted in partial fulfillment of the requirements for the online course in  IT00CD40 Web Technologies, Ã…bo Akademi University. The project was deployed in Heroku platform.

---

### Directories
- webshop: Django config settings folder.
- src: React main folder that contains the Javascript entry point, app, page components(pages) reusable components(partials).
- core: Django app as an entry point template view to React's *src* folder.
- templates: Django HTML templates files. 
- public: React static files directory.
- tmp/notifications: Folder where the emails generated by `django.core.mail.backends.filebased`.EmailBackend* resides.
- users: Django user app folder
- merchandises: Django item/products app folder
- cart: Django cart app when login users added item in the shop page.
- purchases: Django app directory that create an object to all paid items in the cart.
- initial: Django app for re-population of defaults users and item.
- build: React build files.
- en: Python virtual environment.

### User Authentication
The app uses  [Django Rest Auth](https://django-rest-auth.readthedocs.io/en/latest/) for authenticating users using API. Login, signup, change password, and logout are handled by this modile. Some configuration are set by [Django Allauth](https://django-allauth.readthedocs.io/en/latest/installation.html) in the backend. The default DRF authentication class used was `rest_framework.authentication.TokenAuthentication`.

### Site architecture
- Landing Page https://nurtsrx.herokuapp.com/: Serve as the home page of the application and for   triggering the automatic DB population that generates six users and with three users already have ten items created available for sale. Re-population of users and items owned by users was initiated by using Django's *post_save [signals](https://docs.djangoproject.com/en/3.1/topics/signals/)* in the users app.

- Shop Page https://nurtsrx.herokuapp.com/shop: The page to view the available products available for sale that return ten items per page. Paginated using DRF's [PageNumber pagination class](https://www.django-rest-framework.org/api-guide/pagination/#pagenumberpagination) with `page_size = 10` and *[react-js-pagination](https://www.npmjs.com/package/react-js-pagination)*. Authenticated and anonymous users can view all of the items for sales but only the login users can shop and can create _merchandise_ objects as item for sale. Login users can only select and buy `merchandises` that they don't owned/created otherwise it will raise `ValidationError` if that event will happen, but it unlikely to happened because the `add to cart` button was disabled for the current user's item.

- Login Page https://nurtsrx.herokuapp.com/login: User must provide email and password to be submitted in the form.

- Signup Page https://nurtsrx.herokuapp.com/signup: To register a user, username, email, and password with confirmation must be fullfilled.

- Account Page https://nurtsrx.herokuapp.com/account: For editing user's password.

- MyItem Page https://nurtsrx.herokuapp.com/myitems: Page where authenticated users can view their own items, sold items and bought item. The add item form and edit item form was also found in this page.

- Logout Page https://nurtsrx.herokuapp.com/logout: All authenticated users must logout to delete all the local storage data in the browser.

### Search
Anonymous and login users can search the items by the item's title and by implementing DRF's [search filters](https://www.django-rest-framework.org/api-guide/filtering/#searchfilter) on the backend.

### Security
_Content Security Policy_ and _Permissions Policy_ protection was added to boost the security features of the application. CSP was initiated by installing [django-csp](https://django-csp.readthedocs.io/en/latest/) and set directives such as `default-src`, `script-src`, `style-src`, `connect-src`and etc. with there respective configuration. Permission policy was implemented by [django-feature-policy](https://pypi.org/project/django-feature-policy/). Built-in security settings was carried out mostly on deployment as well as during development, settings such as SECURE_PROXY_SSL_HEADER, SECURE_SSL_REDIRECT, SECURE_HSTS_SECONDS, SECURE_HSTS_INCLUDE_SUBDOMAINS,SECURE_HSTS_PRELOAD, SECURE_CONTENT_TYPE_NOSNIFF, SECURE_REFERRER_POLICY, SESSION_COOKIE_SECURE, SESSION_COOKIE_HTTPONLY, SECURE_BROWSER_XSS_FILTER and X_FRAME_OPTIONS.

Admin URL was 

### Styling
The website was styled using Bootstrap, Bootswatch(Spacelab theme), Jquery, media queries and custom CSS.


### Python Virtual Environment
```
python -m venv
```

### Project setup
```
pip install
```
React
```
yarn install
```

### Compiles and hot-reloads for development

```
python manage.py runserver
```

```
yarn serve
```

### Compiles and minifies for production
```
yarn build
```

### Lints and fixes files
```
yarn lint
```

### React Boilerplate
[Create React App](https://github.com/facebook/create-react-app).